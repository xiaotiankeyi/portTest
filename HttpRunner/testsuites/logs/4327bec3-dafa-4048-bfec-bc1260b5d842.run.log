2021-02-24 22:46:44.302 | INFO     | httprunner.runner:test_start:451 - Start to run testcase: 修改部门信息, TestCase ID: 4327bec3-dafa-4048-bfec-bc1260b5d842
2021-02-24 22:46:44.308 | INFO     | httprunner.runner:__run_step:292 - run step begin: 更新部门信息 >>>>>>
2021-02-24 22:46:44.422 | DEBUG    | httprunner.client:request:186 - client IP: 192.168.0.101, Port: 55173
2021-02-24 22:46:44.424 | DEBUG    | httprunner.client:request:194 - server IP: 183.3.234.106, Port: 443
2021-02-24 22:46:44.427 | DEBUG    | httprunner.client:log_print:40 - 
================== request details ==================
method   : POST
url      : https://qyapi.weixin.qq.com/cgi-bin/department/update?access_token=TiE_YAxUZ7WFUhQlFTLrfDaFObAsUWBnmzupJw_IDhxsDe09SXi5qOgv2AymjilbgdUacdvDv9FdOKryvKL9lkEuKP5l8m3dB6YlamoRAkvxay_ksbDB8_DNARqIXqQeBYlCZ7Q5vihd6OlxYvtOaywH6AS1FU0M8oJdbiARG-VWPRlmFE3IU3ALapvSbnktqU3XOqkJVNOMua1WamZ5TQ
headers  : {
    "User-Agent": "python-requests/2.23.0",
    "Accept-Encoding": "gzip, deflate",
    "Accept": "*/*",
    "Connection": "keep-alive",
    "Content-Type": "application/json",
    "HRUN-Request-ID": "HRUN-4327bec3-dafa-4048-bfec-bc1260b5d842-004316",
    "Content-Length": "115"
}
cookies  : {}
body     : {
    "id": 2,
    "name": "\u4fee\u6539\u5317\u4eac\u7814\u53d1\u4e2d\u5fc3",
    "name_en": "RDBJ",
    "order": 1,
    "parentid": 1
}

2021-02-24 22:46:44.430 | DEBUG    | httprunner.client:log_print:40 - 
================== response details ==================
status_code : 200
headers  : {
    "Server": "nginx",
    "Date": "Wed, 24 Feb 2021 14:46:43 GMT",
    "Content-Type": "application/json; charset=UTF-8",
    "Content-Length": "198",
    "Connection": "keep-alive",
    "Error-Code": "60003",
    "Error-Msg": "department not found, hint: [1614178003_147_8086065ed350549c3db663760978442f], from ip: 14.120.108.56, more info at https://open.work.weixin.qq.com/devtool/query?e=60003"
}
cookies  : {}
encoding : UTF-8
content_type : application/json; charset=UTF-8
body     : {
    "errcode": 60003,
    "errmsg": "department not found, hint: [1614178003_147_8086065ed350549c3db663760978442f], from ip: 14.120.108.56, more info at https://open.work.weixin.qq.com/devtool/query?e=60003"
}

2021-02-24 22:46:44.435 | INFO     | httprunner.client:request:218 - status_code: 200, response_time(ms): 106.0 ms, response_length: 0 bytes
2021-02-24 22:46:44.445 | INFO     | httprunner.response:validate:246 - assert status_code equal 200(int)	==> pass
2021-02-24 22:46:44.455 | INFO     | httprunner.response:validate:246 - assert headers."Content-Type" equal application/json; charset=UTF-8(str)	==> pass
2021-02-24 22:46:44.456 | ERROR    | httprunner.response:validate:263 - assert body.errcode equal 0(int)	==> fail
check_item: body.errcode
check_value: 60003(int)
assert_method: equal
expect_value: 0(int)
2021-02-24 22:46:44.458 | ERROR    | httprunner.response:validate:263 - assert body.errmsg equal updated(str)	==> fail
check_item: body.errmsg
check_value: department not found, hint: [1614178003_147_8086065ed350549c3db663760978442f], from ip: 14.120.108.56, more info at https://open.work.weixin.qq.com/devtool/query?e=60003(str)
assert_method: equal
expect_value: updated(str)
2021-02-24 22:46:44.459 | ERROR    | httprunner.runner:log_req_resp_details:194 - 
******************************** DETAILED REQUEST & RESPONSE ********************************
====== request details ======
url: https://qyapi.weixin.qq.com/cgi-bin/department/update
method: POST
headers: {'Content-Type': 'application/json', 'HRUN-Request-ID': 'HRUN-4327bec3-dafa-4048-bfec-bc1260b5d842-004316'}
params: {'access_token': 'TiE_YAxUZ7WFUhQlFTLrfDaFObAsUWBnmzupJw_IDhxsDe09SXi5qOgv2AymjilbgdUacdvDv9FdOKryvKL9lkEuKP5l8m3dB6YlamoRAkvxay_ksbDB8_DNARqIXqQeBYlCZ7Q5vihd6OlxYvtOaywH6AS1FU0M8oJdbiARG-VWPRlmFE3IU3ALapvSbnktqU3XOqkJVNOMua1WamZ5TQ'}
data: None
cookies: {}
timeout: 120
allow_redirects: True
verify: False
json: {'id': 2, 'name': '修改北京研发中心', 'name_en': 'RDBJ', 'order': 1, 'parentid': 1}

====== response details ======
status_code: 200
headers: {'Server': 'nginx', 'Date': 'Wed, 24 Feb 2021 14:46:43 GMT', 'Content-Type': 'application/json; charset=UTF-8', 'Content-Length': '198', 'Connection': 'keep-alive', 'Error-Code': '60003', 'Error-Msg': 'department not found, hint: [1614178003_147_8086065ed350549c3db663760978442f], from ip: 14.120.108.56, more info at https://open.work.weixin.qq.com/devtool/query?e=60003'}
body: '{"errcode":60003,"errmsg":"department not found, hint: [1614178003_147_8086065ed350549c3db663760978442f], from ip: 14.120.108.56, more info at https://open.work.weixin.qq.com/devtool/query?e=60003"}'

